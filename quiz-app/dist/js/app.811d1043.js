(function(e){function t(t){for(var s,a,i=t[0],c=t[1],l=t[2],p=0,f=[];p<i.length;p++)a=i[p],Object.prototype.hasOwnProperty.call(n,a)&&n[a]&&f.push(n[a][0]),n[a]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(e[s]=c[s]);u&&u(t);while(f.length)f.shift()();return o.push.apply(o,l||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],s=!0,i=1;i<r.length;i++){var c=r[i];0!==n[c]&&(s=!1)}s&&(o.splice(t--,1),e=a(a.s=r[0]))}return e}var s={},n={app:0},o=[];function a(t){if(s[t])return s[t].exports;var r=s[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=e,a.c=s,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)a.d(r,s,function(t){return e[t]}.bind(null,s));return r},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var u=c;o.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"005a":function(e,t,r){"use strict";r("e9a1")},"0bce":function(e,t,r){"use strict";r("f59b")},"0d3d":function(e,t,r){"use strict";r("c6b5")},3575:function(e,t,r){"use strict";r("4d93")},"36a9":function(e,t,r){},"3f7a":function(e,t,r){"use strict";r("60d9")},"4d93":function(e,t,r){},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var s=r("2b0e"),n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("h1",{staticClass:"title"},[e._v("Do you know?")]),r("div",{staticClass:"container flex-col ai-c"},[r("header",{staticClass:"header flex jc-sb"},[r("ScoreDisplay",{attrs:{playerScore:e.playerScore,showOptions:e.showOptions}}),r("ProgressDisplay",{attrs:{playerProgress:e.playerProgress,showOptions:e.showOptions}}),r("OptionsBtn",{attrs:{showOptions:e.showOptions},on:{"toggle-options":e.toggleOptions}})],1),r("div",{staticClass:"outer-wrapper"},[r("div",{staticClass:"inner-wrapper flex",class:{active:e.showOptions},attrs:{showOptions:e.showOptions}},[r("div",{staticClass:"options-container flex-col ai-c"},[r("SelectDifficulty",{attrs:{diffOptions:e.diffOptions},on:{"send-difficulty":e.setDifficultyString}}),r("SelectCategory",{attrs:{categoryOptions:e.categoryOptions},on:{"send-category":e.setCategoryString}}),e.apiCallFailed?r("p",{staticClass:"error-message"},[e._v(" "+e._s(e.errorMessage)+" ")]):e._e(),r("StartBtn",{on:{"start-game":e.getQuestions}})],1),r("div",{staticClass:"q-a-container flex-col ai-c"},[r("transition",{attrs:{name:"fade-left"}},[e.requestSuccessful?r("QuestionDisplay",{key:e.rerenderKeyQ,attrs:{questions:e.questions,playerProgress:e.playerProgress,playerScore:e.playerScore},on:{"update-progress":e.forceRerender}}):e._e()],1),r("transition",{attrs:{name:"fade-left"}},[e.requestSuccessful?r("AnswersDisplay",{key:e.rerenderKeyA,attrs:{answers:e.answers,playerProgress:e.playerProgress,correctAnswers:e.correctAnswers,indexOfCorrectAnswer:e.indexOfCorrectAnswer},on:{"update-progress":function(t){e.updateProgress(),e.forceRerender()},"update-score":e.updateScore,"play-again":function(t){e.updateProgress(),e.getQuestions()}}}):e._e()],1)],1)])])])])},o=[],a=(r("99af"),r("d81d"),r("d3b7"),r("159b"),r("2909")),i=(r("96cf"),r("1da1")),c=r("92d7"),l=r.n(c),u=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"btn btn--options flex ai-c jc-c",class:{inactive:!e.showOptions},attrs:{showOptions:e.showOptions},on:{click:function(t){return e.$emit("toggle-options")}}},[s("img",{attrs:{src:r("f231"),alt:""}})])},p=[],f=r("cffa"),d={name:"OptionsBtn",props:["showOptions"],mounted:function(){var e=document.querySelector(".container"),t=document.querySelector(".btn--options"),r=t.offsetWidth,s=(e.offsetWidth-32)/2-r/2;f["a"].set(t,{x:-s})}},y=d,g=(r("0d3d"),r("2877")),h=Object(g["a"])(y,u,p,!1,null,"2b950729",null),v=h.exports,m=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"wrapper wrapper--difficulty flex-col ai-c"},[r("label",{staticClass:"label--difficulty",attrs:{for:"select-difficulty"}},[e._v("select difficulty")]),r("select",{directives:[{name:"model",rawName:"v-model",value:e.difficulty,expression:"difficulty"}],attrs:{id:"select-difficulty"},on:{change:[function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.difficulty=t.target.multiple?r:r[0]},function(t){e.$emit("send-difficulty",e.difficulty),e.attachLabelDifficulty()}]}},e._l(e.diffOptions,(function(t){return r("option",{key:t.value,domProps:{value:t.value}},[e._v(" "+e._s(t.text)+" ")])})),0)])},w=[],b={name:"SelectDifficulty",props:["diffOptions"],data:function(){return{difficulty:""}},methods:{sendDifficulty:function(){return this.difficulty},attachLabelDifficulty:function(){var e=document.querySelector(".label--difficulty"),t=document.querySelector(".wrapper--difficulty");e.classList.add("label--top"),t.classList.add("no-hover")}}},x=b,O=(r("0bce"),Object(g["a"])(x,m,w,!1,null,"2f73b04c",null)),_=O.exports,S=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"wrapper wrapper--category flex-col"},[r("label",{staticClass:"label--category",attrs:{for:"select-category"}},[e._v("select category")]),r("select",{directives:[{name:"model",rawName:"v-model",value:e.category,expression:"category"}],attrs:{id:"select-category"},on:{change:[function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.category=t.target.multiple?r:r[0]},function(t){e.$emit("send-category",e.category),e.attachLabelCategory()}]}},e._l(e.categoryOptions,(function(t){return r("option",{key:t.value,domProps:{value:t.value}},[e._v(" "+e._s(t.text)+" ")])})),0)])},C=[],P={name:"SelectCategory",props:["categoryOptions"],data:function(){return{category:""}},methods:{sendCategory:function(){return this.category},attachLabelCategory:function(){var e=document.querySelector(".label--category"),t=document.querySelector(".wrapper--category");e.classList.add("label--top"),t.classList.add("no-hover")}}},k=P,A=(r("b47f"),Object(g["a"])(k,S,C,!1,null,"269be33d",null)),q=A.exports,j=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("button",{staticClass:"btn--start",on:{click:function(t){return e.$emit("start-game")}}},[e._v("start")])},D=[],$={name:"StartBtn"},T=$,L=(r("005a"),Object(g["a"])(T,j,D,!1,null,"6a97ceef",null)),E=L.exports,Q=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"wrapper--score flex-col ai-c",class:{inactive:e.showOptions}},[r("p",[e._v("score")]),r("p",{staticClass:"score-number",attrs:{playerScore:e.playerScore}},[e._v(e._s(this.playerScore))])])},R=[],M={name:"ScoreDisplay",props:["playerScore","showOptions"]},B=M,K=(r("3f7a"),Object(g["a"])(B,Q,R,!1,null,"481c3658",null)),F=K.exports,N=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"wrapper--progress flex-col ai-c",class:{inactive:e.showOptions}},[r("p",[e._v("progress")]),r("p",{staticClass:"progress-number",attrs:{playerProgress:e.playerProgress}},[e._v(e._s(this.playerProgress)+" / 10")])])},G=[],W={name:"ProgressDisplay",props:["playerProgress","showOptions"]},H=W,J=(r("3575"),Object(g["a"])(H,N,G,!1,null,"c4d5b02c",null)),Y=J.exports,z=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"wrapper"},[r("p",{staticClass:"question",attrs:{questions:e.questions,playerProgress:e.playerProgress}},[e._v(" "+e._s(this.questions[this.playerProgress])+" ")]),r("transition",{attrs:{name:"fade-in"}},[10===e.playerProgress?r("p",{staticClass:"result",attrs:{playerProgress:e.playerProgress}},[e._v(" "+e._s(e.showResult)+" ")]):e._e()])],1)},I=[],U={name:"QuestionDisplay",data:function(){return{resultComments:{bad:"Well yes, nice try! You should consider reading a book.",good:"OK, there are actually things you know.",excellent:"Wow, you are the smartest person in front of this screen!"}}},props:["questions","playerProgress","playerScore"],computed:{showResult:function(){return this.playerScore<4?this.resultComments.bad:this.playerScore>=4&&this.playerScore<7?this.resultComments.good:this.resultComments.excellent}}},V=U,X=(r("8913"),Object(g["a"])(V,z,I,!1,null,"26eb6f48",null)),Z=X.exports,ee=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"wrapper flex-col ai-c"},[r("ul",{staticClass:"answer-list flex-col ai-c"},e._l(e.answers[e.playerProgress],(function(t){return r("li",{key:t,staticClass:"answer flex ai-c jc-c",attrs:{playerProgress:e.playerProgress},on:{click:e.evaluateAnswer}},[e._v(" "+e._s(t)+" ")])})),0),r("button",{staticClass:"btn--next",on:{click:function(t){return e.$emit("update-progress")}}},[e._v(" "+e._s(e.nextBtnText)+" ")]),10===e.playerProgress?r("button",{staticClass:"btn--next",on:{click:function(t){return e.$emit("play-again")}}},[e._v(" play again ")]):e._e()])},te=[],re={name:"AnswersDisplay",data:function(){return{answerGiven:!1}},props:["answers","correctAnswers","playerProgress","showOptions","indexOfCorrectAnswer"],computed:{nextBtnText:function(){return this.playerProgress<9?"next question":"finish"}},methods:{evaluateAnswer:function(e){var t=this;if(!this.answerGiven){var r,s=document.querySelector(".answer-list").childNodes;s.forEach((function(t,s){t.innerHTML===e.target.innerHTML&&(r=s)}));var n=r,o=this.indexOfCorrectAnswer;n===o?(e.target.classList.add("correct"),this.$emit("update-score"),this.answerGiven=!0):(e.target.classList.add("incorrect"),this.answerGiven=!0,setTimeout((function(){t.showCorrectAnswer()}),500))}},showCorrectAnswer:function(){var e=this,t=document.querySelector(".answer-list").childNodes;t.forEach((function(t,r){r===e.indexOfCorrectAnswer&&t.classList.add("correct")}))}}},se=re,ne=(r("d8f6"),Object(g["a"])(se,ee,te,!1,null,"569ed362",null)),oe=ne.exports,ae={name:"App",components:{OptionsBtn:v,SelectDifficulty:_,SelectCategory:q,StartBtn:E,ScoreDisplay:F,ProgressDisplay:Y,QuestionDisplay:Z,AnswersDisplay:oe},data:function(){return{sessionToken:"",showOptions:!0,requestSuccessful:!1,apiCallFailed:!1,apiResponseCode:0,errorMessage:"",diffOptions:[{text:"easy",value:"&difficulty=easy"},{text:"medium",value:"&difficulty=medium"},{text:"hard",value:"&difficulty=hard"}],categoryOptions:[{text:"general knowlege",value:"&category=9"},{text:"books",value:"&category=10"},{text:"film",value:"&category=11"},{text:"music",value:"&category=12"},{text:"musicals & theatre",value:"&category=13"},{text:"television",value:"&category=14"},{text:"video games",value:"&category=15"},{text:"board games",value:"&category=16"},{text:"science & nature",value:"&category=17"},{text:"science: computers",value:"&category=18"},{text:"science: mathematics",value:"&category=19"},{text:"mythology",value:"&category=20"},{text:"sports",value:"&category=21"},{text:"geography",value:"&category=22"},{text:"history",value:"&category=23"},{text:"politics",value:"&category=24"},{text:"art",value:"&category=25"},{text:"celebrities",value:"&category=26"},{text:"animals",value:"&category=27"},{text:"vehicles",value:"&category=28"}],difficultyString:"&difficulty=easy",categoryString:"&category=9",playerScore:0,playerProgress:0,questions:[],answers:[],correctAnswers:[],rerenderKeyQ:0,rerenderKeyA:1}},computed:{api_url:function(){return"https://opentdb.com/api.php?amount=10".concat(this.categoryString).concat(this.difficultyString,"&type=multiple&token=").concat(this.sessionToken)},indexOfCorrectAnswer:function(){return this.playerProgress<10?this.answers[this.playerProgress].indexOf(this.correctAnswers[this.playerProgress]):0}},methods:{setDifficultyString:function(e){this.difficultyString=e},setCategoryString:function(e){this.categoryString=e},toggleOptions:function(){0!==this.questions.length&&(this.showOptions=!this.showOptions)},getSessionToken:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://opentdb.com/api_token.php?command=request");case 2:return t=e.sent,e.next=5,t.json();case 5:return r=e.sent,e.next=8,r.token;case 8:this.sessionToken=e.sent;case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getQuestions:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,r,s=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.apiCallFailed=!1,this.playerScore=0,this.playerProgress=0,this.emptyQuestionsAndAnswers(),e.next=7,fetch(this.api_url);case 7:return t=e.sent,e.next=10,t.json();case 10:if(r=e.sent,console.log(r),this.apiResponseCode=r.response_code,4!==r.response_code){e.next=17;break}return this.apiCallFailed=!0,this.errorMessage="Can't find questions. Try changing the difficulty or select another category.",e.abrupt("return");case 17:r.results.forEach((function(e){s.questions.push(l.a.decode(e.question));var t=[].concat(Object(a["a"])(e.incorrect_answers),[e.correct_answer]);t.sort();var r=t.map((function(e){return l.a.decode(e)}));s.answers.push(r),s.correctAnswers.push(l.a.decode(e.correct_answer))})),this.showOptions=!this.showOptions,this.requestSuccessful=!0,e.next=27;break;case 22:e.prev=22,e.t0=e["catch"](0),console.log(e.t0),this.apiCallFailed=!0,this.errorMessage="No connection to database. Please try again later.";case 27:case"end":return e.stop()}}),e,this,[[0,22]])})));function t(){return e.apply(this,arguments)}return t}(),updateProgress:function(){this.playerProgress<10?this.playerProgress++:(this.playerProgress=0,this.showOptions=!0,this.requestSuccessful=!1)},updateScore:function(){this.playerScore++},emptyQuestionsAndAnswers:function(){this.questions=[],this.answers=[],this.correctAnswers=[]},forceRerender:function(){this.rerenderKeyQ+=1,this.rerenderKeyA+=1}},mounted:function(){this.getSessionToken()}},ie=ae,ce=(r("5c0b"),Object(g["a"])(ie,n,o,!1,null,null,null)),le=ce.exports;s["a"].config.productionTip=!1,new s["a"]({render:function(e){return e(le)}}).$mount("#app")},"59ba":function(e,t,r){},"5c0b":function(e,t,r){"use strict";r("9c0c")},"60d9":function(e,t,r){},8441:function(e,t,r){},8913:function(e,t,r){"use strict";r("36a9")},"9c0c":function(e,t,r){},b47f:function(e,t,r){"use strict";r("8441")},c6b5:function(e,t,r){},d8f6:function(e,t,r){"use strict";r("59ba")},e9a1:function(e,t,r){},f231:function(e,t,r){e.exports=r.p+"img/setup.71563571.svg"},f59b:function(e,t,r){}});
//# sourceMappingURL=app.811d1043.js.map